# OJ后端项目介绍

### 项目分层

##### api

| 文件名.go  |         说明         |
| :--------: | :------------------: |
|    user    |   处理用户相关接口   |
|  problem   |   处理题目相关接口   |
| submission | 处理提交代码相关接口 |
|    test    | 处理测试数据相关接口 |
|  routers   |       集合接口       |

##### cmd

| 文件名.go | 说明 |
| :-------: | :--: |
|   main    | 执行 |

##### dao

| 文件名.go  |          说明          |
| :--------: | :--------------------: |
|    dao     |       连接数据库       |
|    user    |  用户相关的数据库操作  |
|  problem   |   题目相关数据库操作   |
| submission | 提交代码相关数据库操作 |
|    test    | 测试数据相关数据库操作 |

##### middleware

| 文件名.go |       说明        |
| :-------: | :---------------: |
|   cors    |   跨域问题解决    |
|    jwt    | 验证token是否有效 |

##### model

| 文件名.go  |        说明        |
| :--------: | :----------------: |
|    user    |   用户相关结构体   |
|  problem   |   题目相关结构体   |
| submission | 提交代码相关结构体 |
|    test    | 测试数据相关结构体 |
|    resp    | 特定返回信息结构体 |

##### service

| 文件名.go  |           说明            |
| :--------: | :-----------------------: |
|    user    |       用户相关操作        |
|  problem   |       题目相关操作        |
| submission |     提交代码相关操作      |
|    test    |     测试数据相关操作      |
|   token    | 生成、刷新、解析token函数 |
|   judge    |        评测机程序         |

##### util

| 文件名.go |       说明       |
| :-------: | :--------------: |
|   resp    | 常用返回信息函数 |

### 功能实现

##### 基础功能

- 用户注册
- 用户登录
- 发布题目
- 获取题目
- 修改题目
- 提交代码
  - 只支持 Go 语言的代码评测
- 评测代码
- 获取评测结果

##### 加分项

- 用户密码加盐加密
- 用户状态保存使用JWT（自认为用的比较烂）

### I WANT TO SAY

- 历时一周左右，终于完成了，过程十分艰辛。
- 刚开始不太懂，做着做着感觉逐渐上道。
- 学习了大量代码，大脑CPU在燃烧。
- docker不怎么会用，勉强完成测评程序。（试了一天）
- 收获巨大，感觉一学期都没学会这么多。